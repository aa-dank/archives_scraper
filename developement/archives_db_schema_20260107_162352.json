{
  "database_name": "business_services_db",
  "extraction_date": "2026-01-07T16:23:51.499471",
  "tables": {
    "archived_files": {
      "table_type": "BASE TABLE",
      "columns": [
        {
          "name": "id",
          "data_type": "integer",
          "max_length": null,
          "nullable": false,
          "default": "nextval('archived_files_id_seq'::regclass)",
          "position": 1,
          "is_primary_key": true
        },
        {
          "name": "destination_path",
          "data_type": "character varying",
          "max_length": null,
          "nullable": false,
          "default": null,
          "position": 2,
          "is_primary_key": false
        },
        {
          "name": "project_number",
          "data_type": "character varying",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 3,
          "is_primary_key": false
        },
        {
          "name": "document_date",
          "data_type": "character varying",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 4,
          "is_primary_key": false
        },
        {
          "name": "destination_directory",
          "data_type": "character varying",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 5,
          "is_primary_key": false
        },
        {
          "name": "file_code",
          "data_type": "character varying",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 6,
          "is_primary_key": false
        },
        {
          "name": "file_size",
          "data_type": "double precision",
          "max_length": null,
          "nullable": false,
          "default": null,
          "position": 7,
          "is_primary_key": false
        },
        {
          "name": "date_archived",
          "data_type": "timestamp without time zone",
          "max_length": null,
          "nullable": false,
          "default": null,
          "position": 8,
          "is_primary_key": false
        },
        {
          "name": "archivist_id",
          "data_type": "integer",
          "max_length": null,
          "nullable": false,
          "default": null,
          "position": 9,
          "is_primary_key": false
        },
        {
          "name": "notes",
          "data_type": "character varying",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 10,
          "is_primary_key": false
        },
        {
          "name": "filename",
          "data_type": "character varying",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 11,
          "is_primary_key": false
        },
        {
          "name": "file_id",
          "data_type": "integer",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 12,
          "is_primary_key": false
        }
      ],
      "primary_keys": [
        "id"
      ]
    },
    "caans": {
      "table_type": "BASE TABLE",
      "columns": [
        {
          "name": "id",
          "data_type": "integer",
          "max_length": null,
          "nullable": false,
          "default": "nextval('caans_id_seq'::regclass)",
          "position": 1,
          "is_primary_key": true
        },
        {
          "name": "caan",
          "data_type": "character varying",
          "max_length": null,
          "nullable": false,
          "default": null,
          "position": 2,
          "is_primary_key": false
        },
        {
          "name": "name",
          "data_type": "character varying",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 3,
          "is_primary_key": false
        },
        {
          "name": "description",
          "data_type": "character varying",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 4,
          "is_primary_key": false
        }
      ],
      "primary_keys": [
        "id"
      ]
    },
    "file_contents": {
      "table_type": "BASE TABLE",
      "columns": [
        {
          "name": "file_hash",
          "data_type": "character varying",
          "max_length": null,
          "nullable": false,
          "default": null,
          "position": 1,
          "is_primary_key": true
        },
        {
          "name": "source_text",
          "data_type": "text",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 2,
          "is_primary_key": false
        },
        {
          "name": "minilm_model",
          "data_type": "text",
          "max_length": null,
          "nullable": true,
          "default": "'all-minilm-l6-v2'::text",
          "position": 3,
          "is_primary_key": false
        },
        {
          "name": "minilm_emb",
          "data_type": "USER-DEFINED",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 4,
          "is_primary_key": false
        },
        {
          "name": "mpnet_model",
          "data_type": "text",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 5,
          "is_primary_key": false
        },
        {
          "name": "mpnet_emb",
          "data_type": "USER-DEFINED",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 6,
          "is_primary_key": false
        },
        {
          "name": "updated_at",
          "data_type": "timestamp with time zone",
          "max_length": null,
          "nullable": true,
          "default": "now()",
          "position": 7,
          "is_primary_key": false
        },
        {
          "name": "text_length",
          "data_type": "integer",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 8,
          "is_primary_key": false
        }
      ],
      "primary_keys": [
        "file_hash"
      ]
    },
    "file_locations": {
      "table_type": "BASE TABLE",
      "columns": [
        {
          "name": "id",
          "data_type": "integer",
          "max_length": null,
          "nullable": false,
          "default": "nextval('file_locations_id_seq'::regclass)",
          "position": 1,
          "is_primary_key": true
        },
        {
          "name": "file_id",
          "data_type": "integer",
          "max_length": null,
          "nullable": false,
          "default": null,
          "position": 2,
          "is_primary_key": false
        },
        {
          "name": "file_server_directories",
          "data_type": "character varying",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 3,
          "is_primary_key": false
        },
        {
          "name": "filename",
          "data_type": "character varying",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 4,
          "is_primary_key": false
        },
        {
          "name": "existence_confirmed",
          "data_type": "timestamp without time zone",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 5,
          "is_primary_key": false
        },
        {
          "name": "hash_confirmed",
          "data_type": "timestamp without time zone",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 6,
          "is_primary_key": false
        }
      ],
      "primary_keys": [
        "id"
      ]
    },
    "files": {
      "table_type": "BASE TABLE",
      "columns": [
        {
          "name": "id",
          "data_type": "integer",
          "max_length": null,
          "nullable": false,
          "default": "nextval('files_id_seq'::regclass)",
          "position": 1,
          "is_primary_key": true
        },
        {
          "name": "hash",
          "data_type": "character varying",
          "max_length": null,
          "nullable": false,
          "default": null,
          "position": 2,
          "is_primary_key": false
        },
        {
          "name": "size",
          "data_type": "bigint",
          "max_length": null,
          "nullable": false,
          "default": null,
          "position": 3,
          "is_primary_key": false
        },
        {
          "name": "extension",
          "data_type": "character varying",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 4,
          "is_primary_key": false
        }
      ],
      "primary_keys": [
        "id"
      ]
    },
    "project_caans": {
      "table_type": "BASE TABLE",
      "columns": [
        {
          "name": "project_id",
          "data_type": "integer",
          "max_length": null,
          "nullable": false,
          "default": null,
          "position": 1,
          "is_primary_key": true
        },
        {
          "name": "caan_id",
          "data_type": "integer",
          "max_length": null,
          "nullable": false,
          "default": null,
          "position": 2,
          "is_primary_key": true
        }
      ],
      "primary_keys": [
        "project_id",
        "caan_id"
      ]
    },
    "projects": {
      "table_type": "BASE TABLE",
      "columns": [
        {
          "name": "id",
          "data_type": "integer",
          "max_length": null,
          "nullable": false,
          "default": "nextval('projects_id_seq'::regclass)",
          "position": 1,
          "is_primary_key": true
        },
        {
          "name": "number",
          "data_type": "character varying",
          "max_length": null,
          "nullable": false,
          "default": null,
          "position": 2,
          "is_primary_key": false
        },
        {
          "name": "name",
          "data_type": "character varying",
          "max_length": null,
          "nullable": false,
          "default": null,
          "position": 3,
          "is_primary_key": false
        },
        {
          "name": "file_server_location",
          "data_type": "character varying",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 4,
          "is_primary_key": false
        },
        {
          "name": "drawings",
          "data_type": "boolean",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 5,
          "is_primary_key": false
        }
      ],
      "primary_keys": [
        "id"
      ]
    },
    "schema_migration": {
      "table_type": "BASE TABLE",
      "columns": [
        {
          "name": "onerow_id",
          "data_type": "boolean",
          "max_length": null,
          "nullable": false,
          "default": "true",
          "position": 1,
          "is_primary_key": true
        },
        {
          "name": "background",
          "data_type": "integer",
          "max_length": null,
          "nullable": false,
          "default": null,
          "position": 2,
          "is_primary_key": false
        },
        {
          "name": "data_loaded",
          "data_type": "boolean",
          "max_length": null,
          "nullable": false,
          "default": null,
          "position": 3,
          "is_primary_key": false
        },
        {
          "name": "foreground",
          "data_type": "integer",
          "max_length": null,
          "nullable": false,
          "default": null,
          "position": 4,
          "is_primary_key": false
        }
      ],
      "primary_keys": [
        "onerow_id"
      ]
    },
    "server_changes": {
      "table_type": "BASE TABLE",
      "columns": [
        {
          "name": "id",
          "data_type": "integer",
          "max_length": null,
          "nullable": false,
          "default": "nextval('server_changes_id_seq'::regclass)",
          "position": 1,
          "is_primary_key": true
        },
        {
          "name": "old_path",
          "data_type": "character varying",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 2,
          "is_primary_key": false
        },
        {
          "name": "new_path",
          "data_type": "character varying",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 3,
          "is_primary_key": false
        },
        {
          "name": "change_type",
          "data_type": "character varying",
          "max_length": null,
          "nullable": false,
          "default": null,
          "position": 4,
          "is_primary_key": false
        },
        {
          "name": "files_effected",
          "data_type": "integer",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 5,
          "is_primary_key": false
        },
        {
          "name": "data_effected",
          "data_type": "numeric",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 6,
          "is_primary_key": false
        },
        {
          "name": "date",
          "data_type": "timestamp without time zone",
          "max_length": null,
          "nullable": false,
          "default": null,
          "position": 7,
          "is_primary_key": false
        },
        {
          "name": "user_id",
          "data_type": "integer",
          "max_length": null,
          "nullable": false,
          "default": null,
          "position": 8,
          "is_primary_key": false
        }
      ],
      "primary_keys": [
        "id"
      ]
    },
    "timekeeper": {
      "table_type": "BASE TABLE",
      "columns": [
        {
          "name": "id",
          "data_type": "integer",
          "max_length": null,
          "nullable": false,
          "default": "nextval('timekeeper_id_seq'::regclass)",
          "position": 1,
          "is_primary_key": true
        },
        {
          "name": "user_id",
          "data_type": "integer",
          "max_length": null,
          "nullable": false,
          "default": null,
          "position": 2,
          "is_primary_key": false
        },
        {
          "name": "datetime",
          "data_type": "timestamp without time zone",
          "max_length": null,
          "nullable": false,
          "default": null,
          "position": 3,
          "is_primary_key": false
        },
        {
          "name": "clock_in_event",
          "data_type": "boolean",
          "max_length": null,
          "nullable": false,
          "default": null,
          "position": 4,
          "is_primary_key": false
        },
        {
          "name": "journal",
          "data_type": "text",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 5,
          "is_primary_key": false
        }
      ],
      "primary_keys": [
        "id"
      ]
    },
    "users": {
      "table_type": "BASE TABLE",
      "columns": [
        {
          "name": "id",
          "data_type": "integer",
          "max_length": null,
          "nullable": false,
          "default": "nextval('users_id_seq'::regclass)",
          "position": 1,
          "is_primary_key": true
        },
        {
          "name": "email",
          "data_type": "character varying",
          "max_length": null,
          "nullable": false,
          "default": null,
          "position": 2,
          "is_primary_key": false
        },
        {
          "name": "first_name",
          "data_type": "character varying",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 3,
          "is_primary_key": false
        },
        {
          "name": "last_name",
          "data_type": "character varying",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 4,
          "is_primary_key": false
        },
        {
          "name": "roles",
          "data_type": "character varying",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 5,
          "is_primary_key": false
        },
        {
          "name": "password",
          "data_type": "character varying",
          "max_length": 60,
          "nullable": true,
          "default": null,
          "position": 6,
          "is_primary_key": false
        },
        {
          "name": "active",
          "data_type": "boolean",
          "max_length": null,
          "nullable": false,
          "default": null,
          "position": 7,
          "is_primary_key": false
        }
      ],
      "primary_keys": [
        "id"
      ]
    },
    "worker_tasks": {
      "table_type": "BASE TABLE",
      "columns": [
        {
          "name": "id",
          "data_type": "integer",
          "max_length": null,
          "nullable": false,
          "default": "nextval('worker_tasks_id_seq'::regclass)",
          "position": 1,
          "is_primary_key": true
        },
        {
          "name": "task_id",
          "data_type": "character varying",
          "max_length": 255,
          "nullable": false,
          "default": null,
          "position": 2,
          "is_primary_key": false
        },
        {
          "name": "time_enqueued",
          "data_type": "timestamp without time zone",
          "max_length": null,
          "nullable": false,
          "default": null,
          "position": 3,
          "is_primary_key": false
        },
        {
          "name": "time_completed",
          "data_type": "timestamp without time zone",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 4,
          "is_primary_key": false
        },
        {
          "name": "origin",
          "data_type": "character varying",
          "max_length": 255,
          "nullable": false,
          "default": null,
          "position": 5,
          "is_primary_key": false
        },
        {
          "name": "function_name",
          "data_type": "character varying",
          "max_length": 255,
          "nullable": true,
          "default": null,
          "position": 6,
          "is_primary_key": false
        },
        {
          "name": "status",
          "data_type": "character varying",
          "max_length": 255,
          "nullable": true,
          "default": null,
          "position": 7,
          "is_primary_key": false
        },
        {
          "name": "task_results",
          "data_type": "json",
          "max_length": null,
          "nullable": true,
          "default": null,
          "position": 8,
          "is_primary_key": false
        }
      ],
      "primary_keys": [
        "id"
      ]
    }
  },
  "indexes": {
    "archived_files": [
      {
        "name": "archived_files_pkey",
        "definition": "CREATE UNIQUE INDEX archived_files_pkey ON public.archived_files USING btree (id)"
      }
    ],
    "caans": [
      {
        "name": "caans_pkey",
        "definition": "CREATE UNIQUE INDEX caans_pkey ON public.caans USING btree (id)"
      }
    ],
    "file_contents": [
      {
        "name": "file_contents_pkey",
        "definition": "CREATE UNIQUE INDEX file_contents_pkey ON public.file_contents USING btree (file_hash)"
      },
      {
        "name": "ix_file_contents_minilm_emb",
        "definition": "CREATE INDEX ix_file_contents_minilm_emb ON public.file_contents USING ivfflat (minilm_emb vector_cosine_ops) WITH (lists='100')"
      },
      {
        "name": "ix_file_contents_mpnet_emb",
        "definition": "CREATE INDEX ix_file_contents_mpnet_emb ON public.file_contents USING ivfflat (mpnet_emb vector_cosine_ops) WITH (lists='100')"
      }
    ],
    "file_locations": [
      {
        "name": "file_locations_pkey",
        "definition": "CREATE UNIQUE INDEX file_locations_pkey ON public.file_locations USING btree (id)"
      },
      {
        "name": "idx_file_locations_filename_tsvector",
        "definition": "CREATE INDEX idx_file_locations_filename_tsvector ON public.file_locations USING gin (to_tsvector('english'::regconfig, (filename)::text))"
      },
      {
        "name": "idx_file_server_directories_gin",
        "definition": "CREATE INDEX idx_file_server_directories_gin ON public.file_locations USING gin (to_tsvector('english'::regconfig, (file_server_directories)::text))"
      }
    ],
    "files": [
      {
        "name": "files_pkey",
        "definition": "CREATE UNIQUE INDEX files_pkey ON public.files USING btree (id)"
      },
      {
        "name": "ix_files_hash",
        "definition": "CREATE UNIQUE INDEX ix_files_hash ON public.files USING btree (hash)"
      }
    ],
    "project_caans": [
      {
        "name": "project_caans_pkey",
        "definition": "CREATE UNIQUE INDEX project_caans_pkey ON public.project_caans USING btree (project_id, caan_id)"
      }
    ],
    "projects": [
      {
        "name": "projects_pkey",
        "definition": "CREATE UNIQUE INDEX projects_pkey ON public.projects USING btree (id)"
      }
    ],
    "schema_migration": [
      {
        "name": "schema_migration_pkey",
        "definition": "CREATE UNIQUE INDEX schema_migration_pkey ON public.schema_migration USING btree (onerow_id)"
      }
    ],
    "server_changes": [
      {
        "name": "server_changes_pkey",
        "definition": "CREATE UNIQUE INDEX server_changes_pkey ON public.server_changes USING btree (id)"
      }
    ],
    "timekeeper": [
      {
        "name": "timekeeper_pkey",
        "definition": "CREATE UNIQUE INDEX timekeeper_pkey ON public.timekeeper USING btree (id)"
      }
    ],
    "users": [
      {
        "name": "users_email_key",
        "definition": "CREATE UNIQUE INDEX users_email_key ON public.users USING btree (email)"
      },
      {
        "name": "users_pkey",
        "definition": "CREATE UNIQUE INDEX users_pkey ON public.users USING btree (id)"
      }
    ],
    "worker_tasks": [
      {
        "name": "worker_tasks_pkey",
        "definition": "CREATE UNIQUE INDEX worker_tasks_pkey ON public.worker_tasks USING btree (id)"
      }
    ]
  },
  "foreign_keys": {
    "project_caans": [
      {
        "column": "caan_id",
        "references_table": "caans",
        "references_column": "id",
        "constraint_name": "project_caans_caan_id_fkey"
      },
      {
        "column": "project_id",
        "references_table": "projects",
        "references_column": "id",
        "constraint_name": "project_caans_project_id_fkey"
      }
    ]
  },
  "constraints": {
    "archived_files": [
      {
        "name": "2200_16657_1_not_null",
        "type": "CHECK",
        "column": null
      },
      {
        "name": "2200_16657_2_not_null",
        "type": "CHECK",
        "column": null
      },
      {
        "name": "2200_16657_7_not_null",
        "type": "CHECK",
        "column": null
      },
      {
        "name": "2200_16657_8_not_null",
        "type": "CHECK",
        "column": null
      },
      {
        "name": "2200_16657_9_not_null",
        "type": "CHECK",
        "column": null
      }
    ],
    "caans": [
      {
        "name": "2200_16663_1_not_null",
        "type": "CHECK",
        "column": null
      },
      {
        "name": "2200_16663_2_not_null",
        "type": "CHECK",
        "column": null
      }
    ],
    "file_contents": [
      {
        "name": "2200_17254_1_not_null",
        "type": "CHECK",
        "column": null
      }
    ],
    "file_locations": [
      {
        "name": "2200_16669_1_not_null",
        "type": "CHECK",
        "column": null
      },
      {
        "name": "2200_16669_2_not_null",
        "type": "CHECK",
        "column": null
      }
    ],
    "files": [
      {
        "name": "2200_16675_1_not_null",
        "type": "CHECK",
        "column": null
      },
      {
        "name": "2200_16675_2_not_null",
        "type": "CHECK",
        "column": null
      },
      {
        "name": "2200_16675_3_not_null",
        "type": "CHECK",
        "column": null
      }
    ],
    "project_caans": [
      {
        "name": "2200_16681_1_not_null",
        "type": "CHECK",
        "column": null
      },
      {
        "name": "2200_16681_2_not_null",
        "type": "CHECK",
        "column": null
      }
    ],
    "projects": [
      {
        "name": "2200_16684_1_not_null",
        "type": "CHECK",
        "column": null
      },
      {
        "name": "2200_16684_2_not_null",
        "type": "CHECK",
        "column": null
      },
      {
        "name": "2200_16684_3_not_null",
        "type": "CHECK",
        "column": null
      }
    ],
    "schema_migration": [
      {
        "name": "2200_16690_1_not_null",
        "type": "CHECK",
        "column": null
      },
      {
        "name": "2200_16690_2_not_null",
        "type": "CHECK",
        "column": null
      },
      {
        "name": "2200_16690_3_not_null",
        "type": "CHECK",
        "column": null
      },
      {
        "name": "2200_16690_4_not_null",
        "type": "CHECK",
        "column": null
      },
      {
        "name": "onerow_uni",
        "type": "CHECK",
        "column": null
      }
    ],
    "server_changes": [
      {
        "name": "2200_16695_1_not_null",
        "type": "CHECK",
        "column": null
      },
      {
        "name": "2200_16695_4_not_null",
        "type": "CHECK",
        "column": null
      },
      {
        "name": "2200_16695_7_not_null",
        "type": "CHECK",
        "column": null
      },
      {
        "name": "2200_16695_8_not_null",
        "type": "CHECK",
        "column": null
      }
    ],
    "timekeeper": [
      {
        "name": "2200_16701_1_not_null",
        "type": "CHECK",
        "column": null
      },
      {
        "name": "2200_16701_2_not_null",
        "type": "CHECK",
        "column": null
      },
      {
        "name": "2200_16701_3_not_null",
        "type": "CHECK",
        "column": null
      },
      {
        "name": "2200_16701_4_not_null",
        "type": "CHECK",
        "column": null
      }
    ],
    "users": [
      {
        "name": "2200_16707_1_not_null",
        "type": "CHECK",
        "column": null
      },
      {
        "name": "2200_16707_2_not_null",
        "type": "CHECK",
        "column": null
      },
      {
        "name": "2200_16707_7_not_null",
        "type": "CHECK",
        "column": null
      },
      {
        "name": "users_email_key",
        "type": "UNIQUE",
        "column": "email"
      }
    ],
    "worker_tasks": [
      {
        "name": "2200_16713_1_not_null",
        "type": "CHECK",
        "column": null
      },
      {
        "name": "2200_16713_2_not_null",
        "type": "CHECK",
        "column": null
      },
      {
        "name": "2200_16713_3_not_null",
        "type": "CHECK",
        "column": null
      },
      {
        "name": "2200_16713_5_not_null",
        "type": "CHECK",
        "column": null
      }
    ]
  }
}